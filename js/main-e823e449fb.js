"use strict";var burger=document.querySelector(".burger"),menu=document.querySelector(".header__wrap-nav");function init(){var e=new ymaps.Map("map",{center:[45.218713727768026,39.229372185783795],zoom:16});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"])}burger.addEventListener("click",(function(){burger.classList.toggle("burger--active"),menu.classList.toggle("header__nav--active"),burger.classList.contains("burger--active")?(menu.classList.add("open"),document.body.style.overflow="hidden"):(menu.classList.remove("open"),document.body.style.overflow="")})),ymaps.ready(init);var swiperPrintLogo=new Swiper(".sw-certificates",{slidesPerView:3,spaceBetween:22,autoHeight:!0,speed:1e3,navigation:{nextEl:".print-logo__next",prevEl:".print-logo__prev"},breakpoint:{320:{slidesPerView:2}}}),swiperProduction=(swiperPrintLogo=new Swiper(".sw-print-logo",{slidesPerView:"auto",loopPreventsSlide:!0,speed:3e3,navigation:{nextEl:".print-logo__next",prevEl:".print-logo__prev"},effect:"cards"}),new Swiper(".sw-prod",{slidesPerView:1,speed:600,navigation:{nextEl:".production__prev",prevEl:".production__next"},thumbs:{swiper:{el:".sw-mini-prod",slidesPerView:7,spaceBetween:20}}})),styles=getComputedStyle(document.documentElement),colorValue=styles.getPropertyValue("--color-accent"),selector=document.querySelector('input[type="tel"]'),im=new Inputmask("+7 (999) 999-9999");im.mask(selector);var productsFormData=null,validateForms=function(e,o,t,r,n){new window.JustValidate(e,{rules:o,messages:t,colorWrong:colorValue,submitHandler:function(e){if(console.log(e),e.classList.contains("cart-modal__form")){productsFormData=new FormData(document.querySelector(".cart-modal__form")),document.querySelectorAll(".cart-modal-order__list .mini-cart__item").forEach((function(e,o){var t=e.querySelector(".mini-product__title").textContent,r=e.querySelector(".mini-product__price").textContent;productsFormData.append("product-".concat(o+1),"".concat(t,", ").concat(r))})),productsFormData.append("summ","".concat(document.querySelector(".cart-modal-order__summ span").textContent));var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&console.log("Отправлено")},o.open("POST","mail.php",!0),o.send(productsFormData),e.reset()}else{var t=new FormData(e),r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&console.log("Отправлено")},r.open("POST","mail.php",!0),r.send(t),e.reset()}}})};validateForms(".form",{name:{required:!0},phone:{required:!0},email:{required:!0,email:!0}},{name:{required:"Вы должны ввести имя"},phone:{required:"Вы должны ввести телефон"},email:{required:"Вы должны ввести почту",email:"Вы должны ввести почту"}},".thanks-popup");